<!doctype html>
<html lang="en"><head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>JALIN'S</title>
    <meta name="description" content="JALIN'S">
    <link type="text/css" rel="stylesheet" href="../uibuilder/vendor/bootstrap/dist/css/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="../uibuilder/vendor/bootstrap-vue/dist/bootstrap-vue.css" />
    <link rel="icon" href="./images/node-blue.ico">

    <link type="text/css" rel="stylesheet" href="./index.css" media="all">

</head><body>
    
    <!-- <h1>Selamat Datang di JALIN'S</h1> -->
    <div id="app">
        <myheader :keys="user" :configs="config"></myheader>
        <mylogin v-show="!user.islogged" :keys="user"></mylogin>
        <b-container v-show="user.islogged">
            <!-- <myheader :keys="user"></myheader> -->
            <router-view :keys="user" :configs="config"></router-view>
       </b-container>
     </div>
    <script src="../uibuilder/vendor/socket.io/socket.io.js"></script>
    <script src="../uibuilder/vendor/vue/dist/vue.js"></script>
    <script src="../uibuilder/vendor/bootstrap-vue/dist/bootstrap-vue.js"></script>
    <script src="../uibuilder/vendor/bootstrap-vue/dist/bootstrap-vue-icons.js"></script>
    <script src="../uibuilder/vendor/http-vue-loader/src/httpVueLoader.js"></script>
    <script src="../uibuilder/vendor/vuex/dist/vuex.js"></script>
    <script src="../uibuilder/vendor/vue-router/dist/vue-router.js"></script>
    <script src="../uibuilder/vendor/chart.js/dist/chart.js"></script>
    <script src="../uibuilder/vendor/axios/dist/axios.js"></script>
    <script src="../uibuilder/vendor/paho-mqtt/paho-mqtt.js"></script>
    <script src="../uibuilder/vendor/md5/dist/md5.min.js"></script>
    <script src="./uibuilderfe.min.js"></script>
    <script src="./index.js" type="module"></script>
    <script>
        window.onload = function(){
            // const d = new Date();
            // let day = d.getDate();
            // console.log("Startup index:::: " + d);
            // console.log("Startup index:::: " + d.getTime());

            var id = localStorage.getItem('token');         //check for valid session
            console.log("index.html: " + id);

            var session = {'topic':'Startup','token':id};   //On load send value
            // console.log(session);
            uibuilder.start();                              //console.log(session); 
            uibuilder.send(session);                        //always forward a message on startup
        }
    </script>

</body></html>